<html>
<head>
  <title>Night testing results</title>
  <script type="text/javascript">
    function twoDigits(n)
    {
        if (n < 10)
        {
            return "0" + n;
        }
        else
        {
            return "" + n;
        }
    }

    function dateToStr(d)
    {
        return twoDigits(d.getDate()) + '.' +
               twoDigits(d.getMonth() + 1) + '.' +
               d.getFullYear();
    }

    function fillDates()
    {
        var start_obj = document.getElementById("start_date");
        var end_obj = document.getElementById("end_date");
        var cur_time = new Date();

        end_obj.value = dateToStr(cur_time);
        cur_time.setMonth(cur_time.getMonth() - <!-- MONTHS_BACK -->);
        start_obj.value = dateToStr(cur_time);
    }
  </script>
</head>
<body onload="fillDates()">
  <form action="process_form.pl" method="get" target="_blank">
    <table>
      <tr>
        <td>Start date:</td>
        <td><input type="text" name="start_date" id="start_date"></td>
        <td>Format: dd.mm.yyyy (or -4m, -5d, etc)</td>
      </tr>
      <tr>
        <td>End date:</td>
        <td><input type="text" name="end_date" id="end_date"></td>
        <td></td>
      </tr>
      <tr>
        <td>Test(s):</td>
        <td><textarea rows="5" cols="100" name="tests"><!-- TESTS --></textarea></td>
        <td style="white-space: nowrap">Example:<br>TEST_PATH_EXAMPLE</td>
      </tr>
      <tr>
        <td>Tag filter:</td>
        <td><input style="width: 100%;" type="text" name="tag_expr"></td>
        <td>Example: tag1==3&amp;tag2==1</td>
      </tr>
      <tr>
        <td>Cache to use:</td>
        <td>
          <!-- CACHES_LIST -->
       </td>
      </tr>
      <tr>
        <td>Log source(s):</td>
        <td>
          <textarea rows="5" cols="100" name="log_sources" id="log_sources"></textarea>
        </td>
      </tr>
      <tr>
        <td>Results filter:</td>
        <td>
          <input type="checkbox" name="include_err_iters_only" value="1">
            Include only iterations having at least one result <br>
            with error (such as unexpected result)<br>
          <input type="checkbox" name="include_err_only" value="1">
            Include only results with error (such as unexpected result)<br>
        </td>
      </tr>
      <tr>
        <td>Broken sessions:</td>
        <td>
          <input type="checkbox" name="include_compromised"
                 value="1">Include
        </td>
      </tr>
      <tr>
        <td>Logs grouping:</td>
        <td>
          <input type="checkbox" name="group_logs_by_tags"
                 value="1" DEF_GROUP_LOGS_BY_TAGS>Group logs by tags
        </td>
      </tr>
    </table>
    <input type="submit" value="Generate report" style="width:20em; height:2em; ">
  </form>
</body>
</html>
