#!/bin/bash
#
# doxygen filter can expect the following environment variables are set:
# - DOWNLOAD_DOC_LINK - path to TAR.GZ packed documentation file.
#                       If this variable is set, then "Download"
#                       section will be added to the documentation mainpage.
#

help() {
    cat <<EOF
This is a wrapper script which builds the autogenerated part of the 
Test Environment documentation.

Usage:
  $ gen_doxygen

Documentation will be located at doc/generated/html/
EOF
    exit 0
}

[ "x$1" = "x--help" ] || [ "x$1" = "x-h" ] && help

doxygen > /dev/null
./doc/dox_resources/tableofcontents

echo "" >&2
echo "###########################################" >&2
echo "## See doc/generated/html/index.html ######" >&2
echo "###########################################" >&2
