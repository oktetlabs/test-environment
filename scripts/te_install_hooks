#!/bin/bash
# SPDX-License-Identifier: Apache-2.0
# Copyright (C) 2025 OKTET Labs Ltd. All rights reserved.

set -u

if command -v ol_install_hooks >/dev/null 2>/dev/null; then
    OL_INSTALL_HOOKS=ol_install_hooks
else
    if [[ -z "${OL_QA_TOOLS:-}" ]]; then
        OL_QA_TOOLS="$(dirname "$0")/../../qa-tools"
    fi
    OL_INSTALL_HOOKS="${OL_QA_TOOLS}/scripts/ol_install_hooks"
    if [[ ! -x "${OL_INSTALL_HOOKS}" ]]; then
        echo "ol_install_hooks cannot be found" >&2
        exit 1
    fi
fi

echo "Warning: te_install_hooks is deprecated, use ol_install_hooks instead" >&2
exec "${OL_INSTALL_HOOKS}" "$@"
