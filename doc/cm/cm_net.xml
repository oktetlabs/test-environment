<?xml version="1.0"?>
<backup>

    <!--
        This configuration model is intended for describing of 
        network topology.
         
        Division into "networks" is pure logical and depends on
        testing purposes. E.g. if IP router is tested, all nodes 
        connected to router port via Ethernet hub should be considered
        as elements of the same network.


        Copyright (C) 2003-2018 OKTET Labs.

        Author: Andrew Rybchenko <Andrew.Rybchenko@oktetlabs.ru>
    -->


    <!-- Root object of the network configuration tree.
         Name: network name -->
    <object oid="/net" access="read_create" type="none"/>

    <!-- Node of the network.
         Name: node name
         Value: OID of the connection point
                
                For nodes of Agent type the value is in the following format:
                /agent:<agent name>/interface:<interface name>
                E.g.: /agent:A/interface:eth0

                For nodes of type bridge the value is in the following format:
                /agent:<agent name>/port:<port id>
                E.g.: /agent:bridge/port:20
                Note that nodes of type bridge are identified as nodes of 
                type nut.

                -->
    <object oid="/net/node" access="read_create" type="string"/>

    <!-- Type of the network node.
         Name: none
         Value: 0 (agent), 1(nut), others... -->
    <object oid="/net/node/type" access="read_write" type="integer"/>


    <!-- Root object of network pool
         Name: ip4 or ip6
         Value: None -->
    <object oid="/net_pool" access="read_create" type="none"/>

    <!-- Network pool entry (subnetwork information)
         Name: Network address
         Value: Whether this network pool entry is reserved or
                it is free to use (1 - reserved, 0 - free to use).

         Network address together with prefix length give complete
         information for allocation of network address that is from
         the particular subnetwork.
    -->
    <object oid="/net_pool/entry" access="read_create" type="integer"/>

    <!-- Prefix length for this pool entry
         Name: Empty
         Value: Prefix length -->
    <object oid="/net_pool/entry/prefix"
            access="read_write" type="integer"/>

    <!-- The number of entries allocated from this network address pool
         Name: Empty
         Value: The number of entries -->
    <object oid="/net_pool/entry/n_entries"
            access="read_write" type="integer"/>

    <!-- A node to keep a collection of allocated network addresses
         Name: Empty
         Value: None -->
    <object oid="/net_pool/entry/pool" access="read_write" type="none"/>

    <!-- A node to keep the exact instance of allocated network address
         Name: Allocated network address
         Value: TODO -->
    <object oid="/net_pool/entry/pool/entry"
            access="read_create" type="integer"/>
  </register>

</backup>

