<?xml version="1.0"?>
<backup>

    <!-- This configuration model is intended for describing of configuration
         information common for all Test Agents -->

    <!--
        Copyright (C) 2003 Test Environment authors (see file AUTHORS
        in the root directory of the distribution).

        Test Environment is free software; you can redistribute it
        and/or modify it under the terms of the GNU General Public
        License as published by the Free Software Foundation; either
        version 2 of the License, or (at your option) any later
        version.
        
        Test Environment is distributed in the hope that it will be
        useful, but WITHOUT ANY WARRANTY; without even the implied
        warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
        PURPOSE. See the GNU General Public License for more details.
        
        You should have received a copy of the GNU General Public
        License along with this program; if not, write to the Free
        Software Foundation, Inc., 59 Temple Place, Suite 330,
        Boston, MA  02111-1307  USA
        
        Author: Edward Makarov E-mail: Edward.Makarov@oktetlabs.ru
    -->

    <!-- Objects registered by Configurator itself -->

    <!-- XEN dom0. 
         Name: none
         Value: Path to accessible across network storage for XEN
                kernel, templates of XEN VBD/ramdisk images and
                for directories of domUs for cloned VBDs/ramdisks

         Note: If at least one domU node exists then
               it is impossible to change XEN dom0 value -->
    <object oid="/agent/xen" access="read_write" type="string"/>

    <!-- XEN kernel.
         Name: none
         Value: XEN kernel file name (found within the XEN path)

         Note: If at least one domU node exists then
               it is impossible to change XEN kernel value -->
    <object oid="/agent/xen/kernel" access="read_write" type="string"/>

    <!-- XEN initial ramdisk.
         Name: none
         Value: XEN initrd file name (found within the XEN path)

         Note: If at least one domU node exists then
               it is impossible to change XEN initrd value -->
    <object oid="/agent/xen/initrd" access="read_write" type="string"/>

    <!-- XEN disk image template.
         Name: none
         Value: XEN dsktpl file name (found within the XEN path)

         Note: If at least one domU node exists then
               it is impossible to change XEN dsktpl value -->
    <object oid="/agent/xen/dsktpl" access="read_write" type="string"/>

    <!-- RCF port (needed for starting TA inside domU).
         Name: none
         Value: RCF port

         Note: Valid values are 0 and the range from 1024 to 65535 -->
    <object oid="/agent/xen/rcf_port" access="read_write"
            type="integer"/>

    <!-- The name of the XEN dom0 bridge connected to the interface
         that is used for RPC communication.
         Name: none
         Value: XEN RPC bridge name

         Note: If at least one domU node exists then it is impossible
               to change XEN RPC bridge name value -->
    <object oid="/agent/xen/rpc_br" access="read_write" type="string"/>

    <!-- The name of the XEN dom0 interface that is used
         for RPC communication.
         Name: none
         Value: XEN RPC interface name

         Note: If at least one domU node exists then it is impossible
               to change XEN RPC interface name value -->
    <object oid="/agent/xen/rpc_if" access="read_write" type="string"/>

    <!-- The base MAC address template that is used
         for the virtual interfaces of domUs.
         Name: none
         Value: Base MAC address template

         Note: If at least one domU node exists then it is impossible
               to change base MAC address template value -->
    <object oid="/agent/xen/base_mac_addr" access="read_write"
            type="address"/>

    <!-- XEN domU.
         Name: XEN domain name
         Value: Directory/disk images creation/destruction flag: if 0
                is specified then in case when directory/images exist
                then they are removed and in case they do not exist then
                new ones are NOT created; otherwise, if 1 is specified
                then in case when directory does not exist then directory
                is created and new images are generated and in case they
                already exist then they are left intact -->
    <object oid="/agent/xen/dom_u" access="read_create" type="integer"/>

    <!-- Status contolling and reflecting domU state.
         Name: none
         Value: "non-running", "running" and "saved"; the transition
                from "non-running" to "saved" status is NOT allowed

         Note: When status is "non-running" then also pseudo-status
               "migrated" may be set, which causes eventually that
               either "running" or intact "non-running" status is
               reached -->
    <object oid="/agent/xen/dom_u/status" access="read_write"
            type="string"/>

    <!-- Memory size used for domU
         Name: none
         Value: Memory size in Mb

         Note: If domU is not in "non-running" status then
               it is impossible to change memory size value -->
    <object oid="/agent/xen/dom_u/memory" access="read_write"
            type="integer"/>

    <!-- The interface used for RCF/RPC communication.
         Name: none
         Value: Interface name

         Note: If domU is not in "non-running" status then
               it is impossible to change interface name value -->
    <object oid="/agent/xen/dom_u/if_name" access="read_write"
            type="string"/>

    <!-- IP address of the interface used for RCF/RPC communication.
         Name: none
         Value: IP address

         Note: If domU is not in "non-running" status then
               it is impossible to change IP address value -->
    <object oid="/agent/xen/dom_u/ip_addr" access="read_write"
            type="address"/>

    <!-- MAC address of the interface used for RCF/RPC communication.
         Name: none
         Value: MAC address

         Note: If domU is not in "non-running" status then
               it is impossible to change MAC address value -->
    <object oid="/agent/xen/dom_u/mac_addr" access="read_write"
            type="address"/>

    <!-- The bridge where interface used for RCF/RPC communication
         is added to.
         Name: none
         Value: Bridge name

         Note: If domU is not in "non-running" status then
               it is impossible to change bridge name value -->
    <object oid="/agent/xen/dom_u/br_name" access="read_write"
            type="string"/>

    <!-- The bridge where dom0 tested interface is already added to
         and domU testing interface is to add to.
         Name: Bridge name
         Value: DomU interface name (usually is the same
                as the name of the dom0 tested one) -->
    <object oid="/agent/xen/dom_u/bridge " access="read_create"
            type="string"/>

    <!-- IP address of the domU interface that is added to the bridge.
         Name: None
         Value: DomU interface IP address -->
    <object oid="/agent/xen/dom_u/bridge/ip_addr " access="read_write"
            type="address"/>

    <!-- MAC address of the domU interface that is added to the bridge.
         Name: None
         Value: DomU interface IP address -->
    <object oid="/agent/xen/dom_u/bridge/mac_addr " access="read_write"
            type="address"/>

    <!-- Migration of domU.
         Name: none
         Value: IP address or dom0 host name to migrate/transfer to -->
    <object oid="/agent/xen/dom_u/migrate" access="read_write"
            type="string" volatile="true"/>

    <!-- Kind of migration.
         Name: none
         Value: 0 non-live migration, 1 live migration -->
    <object oid="/agent/xen/dom_u/migrate/kind" access="read_write"
            type="integer"/>

</backup>
