<?xml version="1.0"?>
<backup>

    <!-- This configuration model is intended for describing of 
         configuration virtual tunnels provided by vtund daemon -->

    <!--
        Copyright (C) 2005 Test Environment authors (see file AUTHORS
        in the root directory of the distribution).

        Test Environment is free software; you can redistribute it
        and/or modify it under the terms of the GNU General Public
        License as published by the Free Software Foundation; either
        version 2 of the License, or (at your option) any later
        version.
        
        Test Environment is distributed in the hope that it will be
        useful, but WITHOUT ANY WARRANTY; without even the implied
        warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
        PURPOSE. See the GNU General Public License for more details.
        
        You should have received a copy of the GNU General Public
        License along with this program; if not, write to the Free
        Software Foundation, Inc., 59 Temple Place, Suite 330,
        Boston, MA  02111-1307  USA
        
        Author: Alexander Kukuta E-mail: Alexander.Kukuta@oktetlabs.ru
        Author: Andrew Rybchenko E-mail: Andrew.Rybchenko@oktetlabs.ru
    -->
    

    <!-- ************** Configuration root ********************* -->

    <!-- VTund configuration root
         Name: empty -->
    <object oid="/agent/vtund"
            access="read_only" type="none"/>


    <!-- ************** Server side configuration ************** -->

    <!-- VTund server
         Name: listening port
         Value: 0 - disable server, 1 - enable server -->
    <object oid="/agent/vtund/server"
            access="read_create" type="integer"/>
    
    <!-- VTund server type
         Name: empty
         Value: stand - standalone,
                inetd - using (x)inetd -->
    <object oid="/agent/vtund/server/type"
            access="read_write" type="string"/>

    <!-- General timeout
         Name: empty
         Value: timeout in seconds -->
    <object oid="/agent/vtund/server/timeout"
            access="read_write" type="integer"/>

    <!-- VTund syslog specification
         Name: empty -->
    <object oid="/agent/vtund/server/syslog"
            access="read_write" type="string"/>

    <!-- Path to ppp program
         Name: empty -->
    <object oid="/agent/vtund/server/ppp"
            access="read_write" type="string"/>

    <!-- Path to ifconfig program
         Name: empty -->
    <object oid="/agent/vtund/server/ifconfig"
            access="read_write" type="string"/>

    <!-- Path to route program
         Name: empty -->
    <object oid="/agent/vtund/server/route"
            access="read_write" type="string"/>

    <!-- Path to ip program
         Name: empty -->
    <object oid="/agent/vtund/server/ip"
            access="read_write" type="string"/>

    <!-- Path to firewall program
         Name: empty -->
    <object oid="/agent/vtund/server/firewall"
            access="read_write" type="string"/>


    <!-- VTund connection
         Name: session name (arbitrary string) -->
    <object oid="/agent/vtund/server/session"
            access="read_create" type="none"/>

    <!-- Password for VTund connection
         Name: empty
         Value: arbitrary string -->
    <object oid="/agent/vtund/server/session/password"
            access="read_write" type="string"/>

    <!-- Type of VTund connection
         Name: empty
         Value: tun, ether, tty or pipe -->
    <object oid="/agent/vtund/server/session/type"
            access="read_write" type="string"/>

    <!-- VTund device name
         Name: empty
         Value: "tun1"-like -->
    <object oid="/agent/vtund/server/session/device"
            access="read_write" type="string"/>

    <!-- Protocol used for VTund connection
         Name: empty
         Value: tcp, udp -->
    <object oid="/agent/vtund/server/session/proto"
            access="read_write" type="string"/>

    <!-- Compression method to use for VTund connection (server only)
         Name: empty
         Value: no, yes, zlib, lzo -->
    <object oid="/agent/vtund/server/session/compress_method"
            access="read_write" type="string"/>

    <!-- Compression level to use for VTund connection (server only)
         Name: empty
         Value: 1 (the best speed) - 9 (the best compression ratio) -->
    <object oid="/agent/vtund/server/session/compress_level"
            access="read_write" type="integer"/>

    <!-- Encryption method to use for VTund connection
         Name: empty
         Value: 0 - disable, 1 - enable -->
    <object oid="/agent/vtund/server/session/encrypt"
            access="read_write" type="integer"/>

    <!-- Enable/disable connection keep-alive for VTund connection
         Name: empty
         Value: 0 - disable, 1 - enable -->
    <object oid="/agent/vtund/server/session/keepalive"
            access="read_write" type="integer"/>

    <!-- Enable/disable connection statistics for VTund connection
         Name: empty
         Value: 0 - disable, 1 - enable -->
    <object oid="/agent/vtund/server/session/stats"
            access="read_write" type="integer"/>

    <!-- VTund connection speed to client
         Name: empty
         Value: speed of the connection in kilobits/second (8,16,32,64,
                128,256,etc), 0 (the  default) means maximum possible 
                speed without shaping -->
    <object oid="/agent/vtund/server/session/speed_to_client"
            access="read_write" type="integer"/>

    <!-- VTund connection speed from client
         Name: empty
         Value: speed of the connection in kilobits/second (8,16,32,64,
                128,256,etc), 0 (the  default) means maximum possible 
                speed without shaping -->
    <object oid="/agent/vtund/server/session/speed_from_client"
            access="read_write" type="integer"/>

    <!-- Wheter to allow multiple connections
         Name: empty
         Value: allow, deny, killold -->
    <object oid="/agent/vtund/server/session/multi"
            access="read_write" type="string"/>


    <!-- ************** Client side configuration ************** -->

    <!-- VTund connection client side
         Name: session name (arbitrary string)
         Value: 0 - disable/disconnect, 1 - enable/connect -->
    <object oid="/agent/vtund/client"
            access="read_create" type="integer"/>

    <!-- VTund connection server
         Name: empty
         Value: Empty on server side or
                DNS name or IP address on client side -->
    <object oid="/agent/vtund/client/server"
            access="read_write" type="string"/>

    <!-- VTund connection server port
         Name: empty
         Value: server port number to connect to -->
    <object oid="/agent/vtund/client/port"
            access="read_write" type="integer"/>

    <!-- Password for VTund connection
         Name: empty
         Value: arbitrary string -->
    <object oid="/agent/vtund/client/password"
            access="read_write" type="string"/>

    <!-- VTund device name
         Name: empty
         Value: "tun1"-like -->
    <object oid="/agent/vtund/client/device"
            access="read_write" type="string"/>

    <!-- Connect timeout
         Name: empty
         Value: timeout in seconds -->
    <object oid="/agent/vtund/client/timeout"
            access="read_write" type="integer"/>
    
    <!-- VTund Persist mode (try to recoonnect after connection)
         termination)
         Name: empty
         Value: yes|keep|no
                If yes, the client will try to reconnect to the server
                after connection termination. If keep, the  client will
                not  remove and re-add the tunXX or tapXX device when
                reconnectng.  If no, the client will exit (default). -->
    <object oid="/agent/vtund/client/persist"
            access="read_write" type="string"/>

    <!-- Enable/disable connection statistics for VTund connection
         Name: empty
         Value: 0 - disable, 1 - enable -->
    <object oid="/agent/vtund/client/stats"
            access="read_write" type="integer"/>

</backup>
