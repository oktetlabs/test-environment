<?xml version="1.0"?>
<package version="1.0">
    
    <description>Tests on TAD IP stack functionality.</description>

    <author mailto="Konstantin.Abramenko@oktetlabs.ru"/>
    <req id="TAD_IPSTACK" sticky="true"/>

    <session>
        <var name="ta" handdown="true">
            <value>Agt_A</value>
        </var>

        <run>
            <script name="ip4_simple">
                <req id="TAD_IP4"/>
            </script>
            <arg name="env">
                <value>{{{'pco':tester},addr:'pco_addr':inet:unicast,if:'pco_if'}}</value>
            </arg>

        </run> 
        <run>
            <script name="ip4_recv_send">
                <req id="TAD_IP4"/>
            </script>
            <arg name="num_pkts">
                <value>10</value>
            </arg>
            <arg name="enum_iterator">
                <value>FALSE</value>
                <value>TRUE</value>
            </arg>
            <arg name="pld_len">
                <value>50</value>
            </arg>
        </run> 

        <run>
            <script name="ip4_udp_dgm">
                <req id="TAD_IP4"/>
            </script>
            <arg name="env">
                <value>{'host_csap'{{'dummy_pco':IUT},addr:'csap_addr':inet:fake,if:'csap_if'},
                {{'pco':tester},addr:'pco_addr':inet:unicast,if:'pco_if'}}
                </value>
            </arg>
        </run> 

        <run>
            <script name="ip4_fragments">
                <req id="TAD_IP4"/>
            </script>
            <arg name="env">
                <value>{'host_csap'{{'dummy_pco':IUT},addr:'csap_addr':inet:fake,if:'csap_if'},
                {{'pco':tester},addr:'pco_addr':inet:unicast,if:'pco_if'}}
                </value>
            </arg>
        </run> 

        <run>
            <script name="tcp_conn">
                <req id="TAD_TCP"/>
            </script>
            <arg name="is_server">
                <value>FALSE</value>
                <value>TRUE</value>
            </arg>
            <arg name="init_close">
                <value>FALSE</value>
                <value>TRUE</value>
            </arg>
            <arg name="env">
                <value>{'host_csap'{{'dummy_pco':IUT},addr:'csap_addr':inet:fake,if:'csap_if'},
                {{'sock_pco':tester},addr:'sock_addr':inet:unicast,if:'sock_if'}}
                </value>
            </arg>
        </run> 

        <run>
            <script name="tcp_conn_reset">
                <req id="TAD_TCP"/>
            </script>
            <arg name="env">
                <value>{'host_csap'{{'dummy_pco':IUT},addr:'csap_addr':inet:fake,if:'csap_if'},
                {{'sock_pco':tester},addr:'sock_addr':inet:unicast,if:'sock_if'}}
                </value>
            </arg>
        </run> 

        <run>
            <script name="tcp_data">
                <req id="TAD_TCP"/>
            </script>
            <arg name="env">
                <value>{'host_csap'{{'dummy_pco':IUT},addr:'csap_addr':inet:unicast,if:'csap_if'},
                {{'sock_pco':tester},addr:'sock_addr':inet:unicast,if:'sock_if'}}
                </value>
            </arg>
        </run>

        <!--
        <run>
            <script name="tcp_simple">
                <req id="TAD_TCP"/>
            </script>
        </run>

        <run>
            <script name="udp1">
                <req id="TAD_UDP"/>
            </script>
            <arg name="pattern_file">
                <value>udp-filter.asn</value>
            </arg>
        </run>
        -->
    </session>

</package>
